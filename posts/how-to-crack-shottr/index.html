<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>如何通过 mitmproxy 激活 Shottr | Jack</title><meta name=keywords content><meta name=description content="Shottr 是一款功能强大的 macOS 截图软件，虽然基础功能免费，但许多实用的高级功能（如 backdrop 背景虚化等）需要付费使用。
激活原理
通过 Charles 抓包发现，每当在 Shottr 里的 &ldquo;License&rdquo; 界面进行激活时，App 都会向 shottr.cc 发送一个 POST 请求来验证激活码的有效性。"><meta name=author content><link rel=canonical href=https://jackcipher.github.io/posts/how-to-crack-shottr/><link crossorigin=anonymous href=/assets/css/stylesheet.4c9b0b5427f36080ace2726ca9c44fd12fd0036319b4a98f6eb996223907b9cc.css integrity="sha256-TJsLVCfzYICs4nJsqcRP0S/QA2MZtKmPbrmWIjkHucw=" rel="preload stylesheet" as=style><link rel=icon href=https://jackcipher.github.io/static/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jackcipher.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jackcipher.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jackcipher.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jackcipher.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://jackcipher.github.io/posts/how-to-crack-shottr/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://jackcipher.github.io/posts/how-to-crack-shottr/"><meta property="og:site_name" content="Jack"><meta property="og:title" content="如何通过 mitmproxy 激活 Shottr"><meta property="og:description" content="Shottr 是一款功能强大的 macOS 截图软件，虽然基础功能免费，但许多实用的高级功能（如 backdrop 背景虚化等）需要付费使用。
激活原理 通过 Charles 抓包发现，每当在 Shottr 里的 “License” 界面进行激活时，App 都会向 shottr.cc 发送一个 POST 请求来验证激活码的有效性。"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-08-29T11:01:58+08:00"><meta property="article:modified_time" content="2025-08-29T11:01:58+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="如何通过 mitmproxy 激活 Shottr"><meta name=twitter:description content="Shottr 是一款功能强大的 macOS 截图软件，虽然基础功能免费，但许多实用的高级功能（如 backdrop 背景虚化等）需要付费使用。
激活原理
通过 Charles 抓包发现，每当在 Shottr 里的 &ldquo;License&rdquo; 界面进行激活时，App 都会向 shottr.cc 发送一个 POST 请求来验证激活码的有效性。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://jackcipher.github.io/posts/"},{"@type":"ListItem","position":2,"name":"如何通过 mitmproxy 激活 Shottr","item":"https://jackcipher.github.io/posts/how-to-crack-shottr/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"如何通过 mitmproxy 激活 Shottr","name":"如何通过 mitmproxy 激活 Shottr","description":"Shottr 是一款功能强大的 macOS 截图软件，虽然基础功能免费，但许多实用的高级功能（如 backdrop 背景虚化等）需要付费使用。\n激活原理 通过 Charles 抓包发现，每当在 Shottr 里的 \u0026ldquo;License\u0026rdquo; 界面进行激活时，App 都会向 shottr.cc 发送一个 POST 请求来验证激活码的有效性。\n","keywords":[],"articleBody":"Shottr 是一款功能强大的 macOS 截图软件，虽然基础功能免费，但许多实用的高级功能（如 backdrop 背景虚化等）需要付费使用。\n激活原理 通过 Charles 抓包发现，每当在 Shottr 里的 “License” 界面进行激活时，App 都会向 shottr.cc 发送一个 POST 请求来验证激活码的有效性。\n通过抓包分析，不难发现：\n激活验证的 API 端点为：https://shottr.cc/licensing/verify.php 服务器返回的 JSON 响应中包含一个关键字段 tier 当 tier 为 0 时表示未激活 既然 0 表示未激活，那设置为 1 是不是就能激活呢？\n基于这个原理，只需要拦截这个 API 请求，并返回一个包含 \"tier\": \"1\" 的虚假响应即可实现激活。\n通过 Charles 激活 通过 Charles 内置的 Map Local 功能，将接口返回数据映射到本地的文本文件。\n在 home 目录，准备以下文件\n1 2 3 4 5 6 7 8 9 ➜ .shottr pwd /Users/jack/.shottr ➜ .shottr cat verify.txt { \"tier\": \"1\", \"explanation\": \"\", \"hash\": \"123059245fec1e5a71fbab509b6052f9c1cf6a9d08780c11f0f7aafd56c2f757b42\" } ➜ .shottr 打开 Charles 的 Map Local 功能，选中请求的接口，并将接口映射到本地文本文件。这是告诉 Charles 如果检测到该接口的请求，就篡改返回的消息体，使用本地的文本内容。 开启该功能后，重启 Shottr，在 License 中输入任意字符串，点击激活： 通过抓包发现，通过将 “tier” 设为1，真的可以激活 Shottr。在软件中也是显示 “Thank you for activating Shottr!”.\n通过 mitmproxy 激活 至此，Shottr 的激活原理已经知道了。就是有一个问题，每次打开电脑，或者退出了 Shottr，激活时都需要打开 Charles，这个操作比较重，我不想为了一碟醋包了一盘饺子。有没有什么办法，在不打开 Charles 就能把 Shottr 给激活了呢？\n调研了一番，发现方案还真的有。那就是使用 mitmproxy.mitmproxy 有三个组件分别是,mitmproxy,mitmweb,mitmdump.我们这次就是要使用 mitmdump 来进行流量劫持。\n安装 mitmproxy 在 macOS 上，推荐使用 Homebrew 安装：\n1 brew install mitmproxy 安装完成后，你将获得三个主要组件：\nmitmproxy：交互式控制台界面 mitmweb：Web 界面 mitmdump：命令行工具（我们主要使用这个） 设置系统代理 启动 mitmproxy：\n1 mitmproxy 默认情况下，mitmproxy 监听 8080 端口。现在需要配置系统代理：\n打开 “系统偏好设置” → “网络” 选择当前使用的网络连接 点击 “高级…” → “代理” 勾选 “HTTP 代理” 和 “HTTPS 代理” 将服务器地址设置为 127.0.0.1，端口设置为 8080 安装 SSL 证书 为了拦截 HTTPS 流量，需要安装 mitmproxy 的根证书：\n在浏览器中访问 mitm.it 点击 “Get mitmproxy-ca-cert.pem” 下载证书 双击下载的 .pem 文件，将其添加到钥匙串 在钥匙串访问中找到 “mitmproxy” 证书 双击证书，展开 “信任” 选项 将 “使用此证书时” 设置为 “始终信任” 创建拦截脚本 创建一个名为 verify.py 的 Python 脚本，用于精准控制 mitmproxy 流量：\n1 2 3 4 5 6 7 8 9 10 11 12 13 from mitmproxy import http def request(flow: http.HTTPFlow) -\u003e None: if flow.request.pretty_url == \"https://shottr.cc/licensing/verify.php\": flow.response = http.Response.make( 200, # status code b'''{ \"tier\": \"1\", \"explanation\": \"\", \"hash\": \"123059245fec1e5a71fbab509b6052f9c1cf6a9d08780c11f0f7aafd56c2f757b42\" }''', {\"Content-Type\": \"application/json\"} ) 启动后台破解 为了方便管理，创建一个启动脚本 start.sh\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 #!/bin/bash SCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" \u0026\u0026 pwd)\" SCRIPT=\"$SCRIPT_DIR/shottr_crack.py\" LOGFILE=\"$SCRIPT_DIR/mitmdump.log\" PIDFILE=\"$SCRIPT_DIR/mitmdump.pid\" # 检查是否已经运行 if [ -f \"$PIDFILE\" ] \u0026\u0026 kill -0 $(cat \"$PIDFILE\") 2\u003e/dev/null; then echo \"❌ mitmproxy 已在运行中 (PID: $(cat $PIDFILE))\" exit 1 fi # 启动 mitmdump echo \"🚀 正在启动 Shottr 破解服务...\" nohup mitmdump -s \"$SCRIPT\" --listen-port 8080 \u003e \"$LOGFILE\" 2\u003e\u00261 \u0026 # 保存进程 ID echo $! \u003e \"$PIDFILE\" echo \"✅ 服务已启动 (PID: $(cat $PIDFILE))\" echo \"📝 日志文件: $LOGFILE\" echo \"🔧 请确保系统代理已设置为 127.0.0.1:8080\" 创建停止脚本 stop.sh：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 #!/bin/bash SCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" \u0026\u0026 pwd)\" PIDFILE=\"$SCRIPT_DIR/mitmdump.pid\" if [ -f \"$PIDFILE\" ]; then PID=$(cat \"$PIDFILE\") if kill -0 \"$PID\" 2\u003e/dev/null; then kill \"$PID\" rm \"$PIDFILE\" echo \"✅ Shottr 破解服务已停止\" else echo \"❌ 进程不存在\" rm \"$PIDFILE\" fi else echo \"❌ PID 文件不存在，服务可能未运行\" fi 激活测试 运行启动脚本：\n1 ./start.sh 打开 Shottr 应用\n进入 “License” 设置页面\n输入任意字符串作为激活码\n点击激活按钮 开机自动化 如果希望系统启动时自动运行破解服务，可以创建一个 Launch Agent：\n创建文件 ~/Library/LaunchAgents/com.shottr.crack.plist：\nxml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003c!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"\u003e ","wordCount":"1758","inLanguage":"zh","datePublished":"2025-08-29T11:01:58+08:00","dateModified":"2025-08-29T11:01:58+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://jackcipher.github.io/posts/how-to-crack-shottr/"},"publisher":{"@type":"Organization","name":"Jack","logo":{"@type":"ImageObject","url":"https://jackcipher.github.io/static/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://jackcipher.github.io/ accesskey=h title="Jack (Alt + H)">Jack</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://jackcipher.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://jackcipher.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://jackcipher.github.io/leetcode/ title=LeetCode><span>LeetCode</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">如何通过 mitmproxy 激活 Shottr</h1><div class=post-meta><span title='2025-08-29 11:01:58 +0800 +0800'>2025-08-29</span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><div class=inner><ul><li><div class=item><div class=circle></div><a href=#%e6%bf%80%e6%b4%bb%e5%8e%9f%e7%90%86 aria-label=激活原理>激活原理</a></div></li><li><div class=item><div class=circle></div><a href=#%e9%80%9a%e8%bf%87-charles-%e6%bf%80%e6%b4%bb aria-label="通过 Charles 激活">通过 Charles 激活</a></div></li><li><div class=item><div class=circle></div><a href=#%e9%80%9a%e8%bf%87-mitmproxy-%e6%bf%80%e6%b4%bb aria-label="通过 mitmproxy 激活">通过 mitmproxy 激活</a></div></li><li><div class=item><div class=circle></div><a href=#%e5%bc%80%e6%9c%ba%e8%87%aa%e5%8a%a8%e5%8c%96 aria-label=开机自动化>开机自动化</a></div></li><li><div class=item><div class=circle></div><a href=#%e6%80%bb%e7%bb%93 aria-label=总结>总结</a></div></li></ul></div></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){history.scrollRestoration&&(history.scrollRestoration="manual"),checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"),document.querySelector(`.inner ul li .item:has(a[href="#${t}"])`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?(document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"),document.querySelector(`.inner ul li .item:has(a[href="#${t}"])`).classList.add("active")):(document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active"),document.querySelector(`.inner ul li .item:has(a[href="#${t}"])`).classList.remove("active"))})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>Shottr 是一款功能强大的 macOS 截图软件，虽然基础功能免费，但许多实用的高级功能（如 backdrop 背景虚化等）需要付费使用。</p><h3 id=激活原理>激活原理<a hidden class=anchor aria-hidden=true href=#激活原理>#</a></h3><p>通过 Charles 抓包发现，每当在 Shottr 里的 &ldquo;License&rdquo; 界面进行激活时，App 都会向 <code>shottr.cc</code> 发送一个 POST 请求来验证激活码的有效性。</p><p>通过抓包分析，不难发现：</p><ul><li>激活验证的 API 端点为：<code>https://shottr.cc/licensing/verify.php</code></li><li>服务器返回的 JSON 响应中包含一个关键字段 <code>tier</code></li><li>当 <code>tier</code> 为 0 时表示未激活</li></ul><p><img alt=image.png loading=lazy src=https://cdn.jsdelivr.net/gh/jackcipher/static_resource@master/imgs/obsidian/20250829110954895.png></p><p>既然 0 表示未激活，那设置为 1 是不是就能激活呢？</p><p>基于这个原理，只需要拦截这个 API 请求，并返回一个包含 <code>"tier": "1"</code> 的虚假响应即可实现激活。</p><h3 id=通过-charles-激活>通过 Charles 激活<a hidden class=anchor aria-hidden=true href=#通过-charles-激活>#</a></h3><p>通过 Charles 内置的 Map Local 功能，将接口返回数据映射到本地的文本文件。</p><p>在 home 目录，准备以下文件</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>➜  .shottr <span class=nb>pwd</span>
</span></span><span class=line><span class=cl>/Users/jack/.shottr
</span></span><span class=line><span class=cl>➜  .shottr cat verify.txt
</span></span><span class=line><span class=cl><span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=s2>&#34;tier&#34;</span>: <span class=s2>&#34;1&#34;</span>,
</span></span><span class=line><span class=cl>	<span class=s2>&#34;explanation&#34;</span>: <span class=s2>&#34;&#34;</span>,
</span></span><span class=line><span class=cl>	<span class=s2>&#34;hash&#34;</span>: <span class=s2>&#34;123059245fec1e5a71fbab509b6052f9c1cf6a9d08780c11f0f7aafd56c2f757b42&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>➜  .shottr
</span></span></code></pre></td></tr></table></div></div><p>打开 Charles 的 Map Local 功能，选中请求的接口，并将接口映射到本地文本文件。这是告诉 Charles 如果检测到该接口的请求，就篡改返回的消息体，使用本地的文本内容。
<img alt=image.png loading=lazy src=https://cdn.jsdelivr.net/gh/jackcipher/static_resource@master/imgs/obsidian/20250829111314488.png></p><p>开启该功能后，重启 Shottr，在 License 中输入任意字符串，点击激活：
<img alt=image.png loading=lazy src=https://cdn.jsdelivr.net/gh/jackcipher/static_resource@master/imgs/obsidian/20250829111450946.png></p><p><img alt=image.png loading=lazy src=https://cdn.jsdelivr.net/gh/jackcipher/static_resource@master/imgs/obsidian/20250829111507910.png></p><p>通过抓包发现，通过将 &ldquo;tier&rdquo; 设为1，真的可以激活 Shottr。在软件中也是显示 &ldquo;Thank you for activating Shottr!&rdquo;.</p><h3 id=通过-mitmproxy-激活>通过 mitmproxy 激活<a hidden class=anchor aria-hidden=true href=#通过-mitmproxy-激活>#</a></h3><p>至此，Shottr 的激活原理已经知道了。就是有一个问题，每次打开电脑，或者退出了 Shottr，激活时都需要打开 Charles，这个操作比较重，我不想为了一碟醋包了一盘饺子。有没有什么办法，在不打开 Charles 就能把 Shottr 给激活了呢？</p><p>调研了一番，发现方案还真的有。那就是使用 mitmproxy.mitmproxy 有三个组件分别是,mitmproxy,mitmweb,mitmdump.我们这次就是要使用 mitmdump 来进行流量劫持。</p><h4 id=安装-mitmproxy>安装 mitmproxy<a hidden class=anchor aria-hidden=true href=#安装-mitmproxy>#</a></h4><p>在 macOS 上，推荐使用 Homebrew 安装：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>brew install mitmproxy
</span></span></code></pre></td></tr></table></div></div><p>安装完成后，你将获得三个主要组件：</p><ul><li><code>mitmproxy</code>：交互式控制台界面</li><li><code>mitmweb</code>：Web 界面</li><li><code>mitmdump</code>：命令行工具（我们主要使用这个）</li></ul><h4 id=设置系统代理>设置系统代理<a hidden class=anchor aria-hidden=true href=#设置系统代理>#</a></h4><p>启动 mitmproxy：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mitmproxy
</span></span></code></pre></td></tr></table></div></div><p>默认情况下，mitmproxy 监听 8080 端口。现在需要配置系统代理：</p><ol><li>打开 &ldquo;系统偏好设置&rdquo; → &ldquo;网络&rdquo;</li><li>选择当前使用的网络连接</li><li>点击 &ldquo;高级&mldr;&rdquo; → &ldquo;代理&rdquo;</li><li>勾选 &ldquo;HTTP 代理&rdquo; 和 &ldquo;HTTPS 代理&rdquo;</li><li>将服务器地址设置为 <code>127.0.0.1</code>，端口设置为 <code>8080</code></li></ol><p><img alt=image.png loading=lazy src=https://cdn.jsdelivr.net/gh/jackcipher/static_resource@master/imgs/obsidian/20250829113136618.png></p><h4 id=安装-ssl-证书>安装 SSL 证书<a hidden class=anchor aria-hidden=true href=#安装-ssl-证书>#</a></h4><p>为了拦截 HTTPS 流量，需要安装 mitmproxy 的根证书：</p><ol><li>在浏览器中访问 <code>mitm.it</code></li><li>点击 &ldquo;Get mitmproxy-ca-cert.pem&rdquo; 下载证书</li><li>双击下载的 <code>.pem</code> 文件，将其添加到钥匙串</li><li>在钥匙串访问中找到 &ldquo;mitmproxy&rdquo; 证书</li><li>双击证书，展开 &ldquo;信任&rdquo; 选项</li><li>将 &ldquo;使用此证书时&rdquo; 设置为 &ldquo;始终信任&rdquo;</li></ol><p><img alt=image.png loading=lazy src=https://cdn.jsdelivr.net/gh/jackcipher/static_resource@master/imgs/obsidian/20250829113414740.png>
<img alt=image.png loading=lazy src=https://cdn.jsdelivr.net/gh/jackcipher/static_resource@master/imgs/obsidian/20250829113811977.png></p><h4 id=创建拦截脚本>创建拦截脚本<a hidden class=anchor aria-hidden=true href=#创建拦截脚本>#</a></h4><p>创建一个名为 verify.py 的 Python 脚本，用于精准控制 mitmproxy 流量：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>mitmproxy</span> <span class=kn>import</span> <span class=n>http</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>request</span><span class=p>(</span><span class=n>flow</span><span class=p>:</span> <span class=n>http</span><span class=o>.</span><span class=n>HTTPFlow</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>flow</span><span class=o>.</span><span class=n>request</span><span class=o>.</span><span class=n>pretty_url</span> <span class=o>==</span> <span class=s2>&#34;https://shottr.cc/licensing/verify.php&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>flow</span><span class=o>.</span><span class=n>response</span> <span class=o>=</span> <span class=n>http</span><span class=o>.</span><span class=n>Response</span><span class=o>.</span><span class=n>make</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=mi>200</span><span class=p>,</span>  <span class=c1># status code</span>
</span></span><span class=line><span class=cl>            <span class=sa>b</span><span class=s1>&#39;&#39;&#39;{
</span></span></span><span class=line><span class=cl><span class=s1>    &#34;tier&#34;: &#34;1&#34;,
</span></span></span><span class=line><span class=cl><span class=s1>    &#34;explanation&#34;: &#34;&#34;,
</span></span></span><span class=line><span class=cl><span class=s1>    &#34;hash&#34;: &#34;123059245fec1e5a71fbab509b6052f9c1cf6a9d08780c11f0f7aafd56c2f757b42&#34;
</span></span></span><span class=line><span class=cl><span class=s1>}&#39;&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span><span class=s2>&#34;Content-Type&#34;</span><span class=p>:</span> <span class=s2>&#34;application/json&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=启动后台破解>启动后台破解<a hidden class=anchor aria-hidden=true href=#启动后台破解>#</a></h4><p>为了方便管理，创建一个启动脚本 start.sh</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=nv>SCRIPT_DIR</span><span class=o>=</span><span class=s2>&#34;</span><span class=k>$(</span><span class=nb>cd</span> <span class=s2>&#34;</span><span class=k>$(</span>dirname <span class=s2>&#34;</span><span class=si>${</span><span class=nv>BASH_SOURCE</span><span class=p>[0]</span><span class=si>}</span><span class=s2>&#34;</span><span class=k>)</span><span class=s2>&#34;</span> <span class=o>&amp;&amp;</span> <span class=nb>pwd</span><span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>SCRIPT</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$SCRIPT_DIR</span><span class=s2>/shottr_crack.py&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>LOGFILE</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$SCRIPT_DIR</span><span class=s2>/mitmdump.log&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>PIDFILE</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$SCRIPT_DIR</span><span class=s2>/mitmdump.pid&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 检查是否已经运行</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> -f <span class=s2>&#34;</span><span class=nv>$PIDFILE</span><span class=s2>&#34;</span> <span class=o>]</span> <span class=o>&amp;&amp;</span> <span class=nb>kill</span> -0 <span class=k>$(</span>cat <span class=s2>&#34;</span><span class=nv>$PIDFILE</span><span class=s2>&#34;</span><span class=k>)</span> 2&gt;/dev/null<span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;❌ mitmproxy 已在运行中 (PID: </span><span class=k>$(</span>cat <span class=nv>$PIDFILE</span><span class=k>)</span><span class=s2>)&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 启动 mitmdump</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;🚀 正在启动 Shottr 破解服务...&#34;</span>
</span></span><span class=line><span class=cl>nohup mitmdump -s <span class=s2>&#34;</span><span class=nv>$SCRIPT</span><span class=s2>&#34;</span> --listen-port <span class=m>8080</span> &gt; <span class=s2>&#34;</span><span class=nv>$LOGFILE</span><span class=s2>&#34;</span> 2&gt;<span class=p>&amp;</span><span class=m>1</span> <span class=p>&amp;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 保存进程 ID</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$!</span> &gt; <span class=s2>&#34;</span><span class=nv>$PIDFILE</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;✅ 服务已启动 (PID: </span><span class=k>$(</span>cat <span class=nv>$PIDFILE</span><span class=k>)</span><span class=s2>)&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;📝 日志文件: </span><span class=nv>$LOGFILE</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;🔧 请确保系统代理已设置为 127.0.0.1:8080&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>创建停止脚本 <code>stop.sh</code>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=nv>SCRIPT_DIR</span><span class=o>=</span><span class=s2>&#34;</span><span class=k>$(</span><span class=nb>cd</span> <span class=s2>&#34;</span><span class=k>$(</span>dirname <span class=s2>&#34;</span><span class=si>${</span><span class=nv>BASH_SOURCE</span><span class=p>[0]</span><span class=si>}</span><span class=s2>&#34;</span><span class=k>)</span><span class=s2>&#34;</span> <span class=o>&amp;&amp;</span> <span class=nb>pwd</span><span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>PIDFILE</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$SCRIPT_DIR</span><span class=s2>/mitmdump.pid&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> -f <span class=s2>&#34;</span><span class=nv>$PIDFILE</span><span class=s2>&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nv>PID</span><span class=o>=</span><span class=k>$(</span>cat <span class=s2>&#34;</span><span class=nv>$PIDFILE</span><span class=s2>&#34;</span><span class=k>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nb>kill</span> -0 <span class=s2>&#34;</span><span class=nv>$PID</span><span class=s2>&#34;</span> 2&gt;/dev/null<span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nb>kill</span> <span class=s2>&#34;</span><span class=nv>$PID</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        rm <span class=s2>&#34;</span><span class=nv>$PIDFILE</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;✅ Shottr 破解服务已停止&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;❌ 进程不存在&#34;</span>
</span></span><span class=line><span class=cl>        rm <span class=s2>&#34;</span><span class=nv>$PIDFILE</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;❌ PID 文件不存在，服务可能未运行&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=激活测试>激活测试<a hidden class=anchor aria-hidden=true href=#激活测试>#</a></h4><ul><li><p>运行启动脚本：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>./start.sh
</span></span></code></pre></td></tr></table></div></div></li><li><p>打开 Shottr 应用</p></li><li><p>进入 &ldquo;License&rdquo; 设置页面</p></li><li><p>输入任意字符串作为激活码</p></li><li><p>点击激活按钮
<img alt=image.png loading=lazy src=https://cdn.jsdelivr.net/gh/jackcipher/static_resource@master/imgs/obsidian/20250829114605446.png></p></li></ul><h3 id=开机自动化>开机自动化<a hidden class=anchor aria-hidden=true href=#开机自动化>#</a></h3><p>如果希望系统启动时自动运行破解服务，可以创建一个 Launch Agent：</p><p>创建文件 <code>~/Library/LaunchAgents/com.shottr.crack.plist</code>：</p><p>xml</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=cp>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class=line><span class=cl><span class=cp>&lt;!DOCTYPE plist PUBLIC &#34;-//Apple//DTD PLIST 1.0//EN&#34; &#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd&#34;&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;plist</span> <span class=na>version=</span><span class=s>&#34;1.0&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;dict&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;key&gt;</span>Label<span class=nt>&lt;/key&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;string&gt;</span>com.shottr.crack<span class=nt>&lt;/string&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;key&gt;</span>ProgramArguments<span class=nt>&lt;/key&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;array&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;string&gt;</span>/path/to/your/start.sh<span class=nt>&lt;/string&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/array&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;key&gt;</span>RunAtLoad<span class=nt>&lt;/key&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;true/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;key&gt;</span>KeepAlive<span class=nt>&lt;/key&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;true/&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/dict&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/plist&gt;</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>注意这里的路径，需要改成你本地脚本所在的路径</p></blockquote><p>加载服务：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>launchctl load ~/Library/LaunchAgents/com.shottr.crack.plist
</span></span></code></pre></td></tr></table></div></div><h3 id=总结>总结<a hidden class=anchor aria-hidden=true href=#总结>#</a></h3><p>通过 mitmproxy，我们成功实现了 Shottr 的自动化激活，相比 Charles 等商业代理软件，这个方案更加轻量、自动化程度更高。不过最重要的是，如果你觉得 Shottr 确实好用，还是建议购买正版来支持开发者的持续开发。</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=next href=https://jackcipher.github.io/posts/leetcode-bisection/><span class=title>下一页 »</span><br><span>二分查找的通用模型与常见错误</span></a></nav></footer><style>.utterances{border-radius:var(--radius);transition:height .3s}</style><script src=https://utteranc.es/client.js repo=jackcipher/blog-comments issue-term=pathname theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2025 <a href=https://jackcipher.github.io/>Jack</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>